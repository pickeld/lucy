@import "tailwindcss";

@theme {
    /* Sidebar - dark */
    --color-sidebar: #171717;
    --color-sidebar-hover: #212121;
    --color-sidebar-active: #2A2A2A;
    --color-sidebar-text: #ECECEC;
    --color-sidebar-muted: #888888;
    --color-sidebar-border: #333333;

    /* Accent */
    --color-accent: #10A37F;
    --color-accent-hover: #0D8C6D;
    --color-accent-light: #E8F5E9;
    --color-accent-text: #2E7D32;

    /* Chat bubbles */
    --color-user-bubble: #F3F4F6;
    --color-assistant-bubble: #FFFFFF;

    /* Status */
    --color-status-green: #10A37F;
    --color-status-yellow: #F59E0B;
    --color-status-red: #EF4444;
}

/* --- Global resets --- */
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* --- Sidebar scrollbar --- */
.sidebar-scroll::-webkit-scrollbar {
    width: 6px;
}
.sidebar-scroll::-webkit-scrollbar-track {
    background: transparent;
}
.sidebar-scroll::-webkit-scrollbar-thumb {
    background-color: #444;
    border-radius: 3px;
}
.sidebar-scroll::-webkit-scrollbar-thumb:hover {
    background-color: #555;
}

/* --- Conversation item: reveal actions on hover --- */
.conv-item .conv-actions {
    opacity: 0;
    transition: opacity 0.15s ease;
}
.conv-item:hover .conv-actions {
    opacity: 1;
}

/* --- Chat area scrollbar --- */
.chat-scroll::-webkit-scrollbar {
    width: 8px;
}
.chat-scroll::-webkit-scrollbar-track {
    background: transparent;
}
.chat-scroll::-webkit-scrollbar-thumb {
    background-color: #D1D5DB;
    border-radius: 4px;
}

/* --- Auto-growing textarea --- */
.chat-textarea {
    resize: none;
    overflow-y: auto;
    max-height: 200px;
    min-height: 44px;
    field-sizing: content;
}

/* --- RTL auto-detection --- */
.rtl-auto {
    direction: auto;
    unicode-bidi: plaintext;
}

/* --- Typing indicator animation --- */
@keyframes typing-bounce {
    0%, 80%, 100% {
        transform: scale(0.6);
        opacity: 0.4;
    }
    40% {
        transform: scale(1);
        opacity: 1;
    }
}
.typing-dot {
    animation: typing-bounce 1.4s infinite ease-in-out;
}
.typing-dot:nth-child(2) {
    animation-delay: 0.2s;
}
.typing-dot:nth-child(3) {
    animation-delay: 0.4s;
}

/* --- Collapsible sources --- */
.sources-details summary {
    list-style: none;
}
.sources-details summary::-webkit-details-marker {
    display: none;
}
.sources-details .details-chevron {
    transition: transform 0.2s ease;
}
.sources-details[open] .details-chevron {
    transform: rotate(90deg);
}

/* --- Settings page --- */
.settings-card {
    background: white;
    border: 1px solid #E5E7EB;
    border-radius: 0.75rem;
    padding: 1.25rem;
    margin-bottom: 1rem;
    transition: border-color 0.15s ease;
}
.settings-card:hover {
    border-color: #D1D5DB;
}
.settings-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #F3F4F6;
}
.settings-card-title {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    font-weight: 600;
    color: #374151;
}
.settings-field {
    padding: 0.5rem 0;
}
.settings-field + .settings-field {
    border-top: 1px solid #F9FAFB;
}
.health-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    background: #F3F4F6;
    color: #6B7280;
}
.health-badge-dot {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 9999px;
}
